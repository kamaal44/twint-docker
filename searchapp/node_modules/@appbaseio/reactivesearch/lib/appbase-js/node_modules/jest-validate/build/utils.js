'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.createDidYouMeanMessage = exports.logValidationWarning = exports.ValidationError = exports.formatPrettyObject = exports.format = exports.WARNING = exports.ERROR = exports.DEPRECATION = undefined;

var _chalk;

function _load_chalk() {
  return _chalk = _interopRequireDefault(require('chalk'));
}

var _prettyFormat;

function _load_prettyFormat() {
  return _prettyFormat = _interopRequireDefault(require('pretty-format'));
}

var _leven;

function _load_leven() {
  return _leven = _interopRequireDefault(require('leven'));
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var BULLET = (_chalk || _load_chalk()).default.bold('\u25CF');
/**
 * Copyright (c) 2014-present, Facebook, Inc. All rights reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 */

var DEPRECATION = exports.DEPRECATION = BULLET + ' Deprecation Warning';
var ERROR = exports.ERROR = BULLET + ' Validation Error';
var WARNING = exports.WARNING = BULLET + ' Validation Warning';

var format = exports.format = function (value) {
  return typeof value === 'function' ? value.toString() : (0, (_prettyFormat || _load_prettyFormat()).default)(value, { min: true });
};

var formatPrettyObject = exports.formatPrettyObject = function (value) {
  return typeof value === 'function' ? value.toString() : JSON.stringify(value, null, 2).split('\n').join('\n    ');
};

var ValidationError = function (_Error) {
  _inherits(ValidationError, _Error);

  function ValidationError(name, message, comment) {
    _classCallCheck(this, ValidationError);

    var _this = _possibleConstructorReturn(this, (ValidationError.__proto__ || Object.getPrototypeOf(ValidationError)).call(this));

    comment = comment ? '\n\n' + comment : '\n';
    _this.name = '';
    _this.message = (_chalk || _load_chalk()).default.red((_chalk || _load_chalk()).default.bold(name) + ':\n\n' + message + comment);
    Error.captureStackTrace(_this, function () {});
    return _this;
  }

  return ValidationError;
}(Error);

exports.ValidationError = ValidationError;
var logValidationWarning = exports.logValidationWarning = function (name, message, comment) {
  comment = comment ? '\n\n' + comment : '\n';
  console.warn((_chalk || _load_chalk()).default.yellow((_chalk || _load_chalk()).default.bold(name) + ':\n\n' + message + comment));
};

var createDidYouMeanMessage = exports.createDidYouMeanMessage = function (unrecognized, allowedOptions) {
  var suggestion = allowedOptions.find(function (option) {
    var steps = (0, (_leven || _load_leven()).default)(option, unrecognized);
    return steps < 3;
  });

  return suggestion ? 'Did you mean ' + (_chalk || _load_chalk()).default.bold(format(suggestion)) + '?' : '';
};